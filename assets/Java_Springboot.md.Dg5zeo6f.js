import{_ as i,c as a,o as t,af as n}from"./chunks/framework.CXKE0KrB.js";const E=JSON.parse('{"title":"1、 Spring 框架的两个核心概念","description":"","frontmatter":{},"headers":[],"relativePath":"Java/Springboot.md","filePath":"Java/Springboot.md"}'),l={name:"Java/Springboot.md"};function e(h,s,p,k,r,d){return t(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="_1、-spring-框架的两个核心概念" tabindex="-1">1、 Spring 框架的两个核心概念 <a class="header-anchor" href="#_1、-spring-框架的两个核心概念" aria-label="Permalink to “1、 Spring 框架的两个核心概念”">​</a></h1><p><strong>IoC（控制反转）</strong> 和 <strong>AOP（面向切面编程）</strong>。它们是 Spring 的基石，理解了它们就理解了 Spring 的精髓。</p><hr><h3 id="_1-ioc-inversion-of-control-控制反转" tabindex="-1">1. IoC (Inversion of Control) - 控制反转 <a class="header-anchor" href="#_1-ioc-inversion-of-control-控制反转" aria-label="Permalink to “1. IoC (Inversion of Control) - 控制反转”">​</a></h3><h4 id="核心思想-不用找我-我来找你" tabindex="-1">核心思想：<strong>“不用找我，我来找你”</strong> <a class="header-anchor" href="#核心思想-不用找我-我来找你" aria-label="Permalink to “核心思想：“不用找我，我来找你””">​</a></h4><p>在传统程序中，当某个对象需要依赖另一个对象时，通常由它自己来主动创建和管理这个依赖对象（<code>new</code> 关键字）。<strong>控制权在程序本身</strong>。</p><p>而 IoC 的理念是：<strong>将对象的创建、组装、管理权交给一个外部的容器（即 Spring IoC 容器）</strong>。程序不再主动创建依赖，而是被动地等待容器将它所需要的依赖<strong>注入</strong>给它。<strong>控制权发生了反转，从程序转移到了容器</strong>。</p><p><strong>举个例子：</strong></p><ul><li><strong>没有 IoC</strong>：就像你自己去菜市场买菜、切菜、炒菜。你很忙，控制权在你。</li><li><strong>有 IoC</strong>：就像去餐厅吃饭。你只需要点菜（<strong>定义需求</strong>），餐厅厨房（<strong>IoC 容器</strong>）会做好菜并端给你（<strong>注入依赖</strong>）。你很轻松，控制权在厨房。</li></ul><h4 id="关键实现-di-dependency-injection-依赖注入" tabindex="-1">关键实现：<strong>DI (Dependency Injection) - 依赖注入</strong> <a class="header-anchor" href="#关键实现-di-dependency-injection-依赖注入" aria-label="Permalink to “关键实现：DI (Dependency Injection) - 依赖注入”">​</a></h4><p>DI 是 IoC 的一种具体实现方式。<strong>IoC 是思想，DI 是手段</strong>。Spring 通过 DI 机制来实现控制反转。</p><p><strong>依赖注入的三种方式：</strong></p><ol><li><p><strong>构造器注入</strong>（推荐）：通过构造函数传入依赖。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UserRepository userRepo;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 容器通过调用这个构造器，将UserRepository注入进来</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UserRepository </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userRepo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.userRepo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userRepo;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><strong>Setter 方法注入</strong>：通过 setter 方法传入依赖。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UserRepository userRepo;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 容器通过调用这个setter方法，将UserRepository注入进来</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setUserRepo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UserRepository </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userRepo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.userRepo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userRepo;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><strong>字段注入</strong>：通过 <code>@Autowired</code> 注解直接标注在字段上。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 容器通过反射机制，直接将UserRepository注入到这个字段</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UserRepository userRepo;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ol><h4 id="ioc-容器的核心工作流程" tabindex="-1">IoC 容器的核心工作流程： <a class="header-anchor" href="#ioc-容器的核心工作流程" aria-label="Permalink to “IoC 容器的核心工作流程：”">​</a></h4><ol><li><strong>配置元数据</strong>：你通过 XML、Java 注解（如 <code>@Component</code>, <code>@Service</code>) 或 Java 配置（<code>@Configuration</code>, <code>@Bean</code>）告诉容器要管理哪些对象（Bean）以及它们之间的依赖关系。</li><li><strong>初始化容器</strong>：Spring 读取配置元数据。</li><li><strong>创建和管理 Bean</strong>：容器根据配置<strong>创建 Bean 实例</strong>，并解决它们之间的依赖关系（注入）。</li><li><strong>提供 Bean</strong>：当应用程序需要时，容器将准备好的 Bean 提供给它。</li></ol><p><strong>总结 IoC 的好处：</strong></p><ul><li><strong>解耦</strong>：对象之间的依赖关系由容器维护，大大降低了代码的耦合度。</li><li><strong>易于测试</strong>：可以轻松地注入模拟对象（Mock）进行单元测试。</li><li><strong>可维护性高</strong>：配置集中管理，想要替换一个实现（如将 MySQL 数据源换成 Oracle）非常方便，只需修改配置即可，无需修改代码。</li><li><strong>资源统一管理</strong>：例如数据库连接池、事务管理等这些“重量级”对象可以由容器统一创建和管理，保证高效使用。</li></ul><hr><h3 id="_2-aop-aspect-oriented-programming-面向切面编程" tabindex="-1">2. AOP (Aspect-Oriented Programming) - 面向切面编程 <a class="header-anchor" href="#_2-aop-aspect-oriented-programming-面向切面编程" aria-label="Permalink to “2. AOP (Aspect-Oriented Programming) - 面向切面编程”">​</a></h3><h4 id="核心思想-横向抽离-统一处理" tabindex="-1">核心思想：<strong>“横向抽离，统一处理”</strong> <a class="header-anchor" href="#核心思想-横向抽离-统一处理" aria-label="Permalink to “核心思想：“横向抽离，统一处理””">​</a></h4><p>在传统 OOP（面向对象编程）中，我们通过类和方法来组织代码。但像<strong>日志记录、事务管理、安全校验</strong>这样的功能，它们会“横切”到很多不同的业务方法中（例如所有业务方法都需要记录日志）。</p><p>如果每个方法里都写一遍日志代码，会导致：</p><ul><li><strong>代码冗余</strong>：相同的代码散落在各处。</li><li><strong>核心业务逻辑不清晰</strong>：业务代码被非核心功能（“切面”代码）淹没。</li><li><strong>难以维护</strong>：如果要修改日志格式，需要改动所有地方。</li></ul><p>AOP 就是为了解决这个问题。它允许我们将这些<strong>散布在各处的横切关注点（Cross-cutting Concerns）代码从业务逻辑中分离出来</strong>，形成一个独立的模块，称为<strong>切面（Aspect）</strong>。然后，在运行时，动态地将这些切面代码<strong>织入（Weaving）</strong> 到指定的业务方法中。</p><h4 id="aop-核心概念" tabindex="-1">AOP 核心概念： <a class="header-anchor" href="#aop-核心概念" aria-label="Permalink to “AOP 核心概念：”">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:left;">术语</th><th style="text-align:left;">解释</th><th style="text-align:left;">生活比喻</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Aspect (切面)</strong></td><td style="text-align:left;">横切关注点的模块化。一个切面是<strong>通知</strong>和<strong>切点</strong>的结合。</td><td style="text-align:left;"><strong>“律师”</strong>，他专门处理“打官司”这个横切关注点。</td></tr><tr><td style="text-align:left;"><strong>Join Point (连接点)</strong></td><td style="text-align:left;">程序执行过程中的一个点，如方法调用、异常抛出等。<strong>Spring AOP 中特指方法的执行</strong>。</td><td style="text-align:left;"><strong>“所有可能需要打官司的场合”</strong>（如签合同、发生纠纷）。</td></tr><tr><td style="text-align:left;"><strong>Advice (通知)</strong></td><td style="text-align:left;">切面在特定连接点上执行的动作。如 <code>@Before</code>, <code>@After</code>等。</td><td style="text-align:left;"><strong>律师的具体服务</strong>，比如“在签合同<strong>之前</strong>（时机）审核条款（动作）”。</td></tr><tr><td style="text-align:left;"><strong>Pointcut (切点)</strong></td><td style="text-align:left;">一个表达式，用来<strong>匹配</strong>哪些<strong>连接点</strong>需要被切入。<strong>定义了通知被应用的位置</strong>。</td><td style="text-align:left;"><strong>律师的服务范围</strong>，比如“只为金额超过100万的合同提供服务”（匹配规则）。</td></tr><tr><td style="text-align:left;"><strong>Weaving (织入)</strong></td><td style="text-align:left;">将切面应用到目标对象并创建代理对象的过程。</td><td style="text-align:left;"><strong>聘请律师的过程</strong>。一旦聘请成功（织入），你每次签合同（连接点）时，律师（切面）都会自动介入。</td></tr></tbody></table><h4 id="spring-aop-示例-记录方法执行时间" tabindex="-1">Spring AOP 示例：记录方法执行时间 <a class="header-anchor" href="#spring-aop-示例-记录方法执行时间" aria-label="Permalink to “Spring AOP 示例：记录方法执行时间”">​</a></h4><ol><li><strong>定义切面 (Aspect)</strong>：<div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Aspect</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 声明这是一个切面</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Component</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LoggingAspect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 定义切点 (Pointcut): 匹配com.example.service包下所有类的所有方法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Pointcut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;execution(* com.example.service.*.*(..))&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> serviceMethods</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 定义通知 (Advice): 在方法执行前和执行后做什么</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Around</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;serviceMethods()&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 环绕通知，最强大的一种通知</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">logExecutionTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ProceedingJoinPoint </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">joinPoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Throwable {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> start </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Object proceed </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> joinPoint.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">proceed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 继续执行原方法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> executionTime </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> start;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(joinPoint.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSignature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; executed in &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> executionTime </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ms&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> proceed;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><strong>效果</strong>：你不需要在任何 <code>com.example.service.*</code> 下的类和方法中编写任何记录时间的代码。Spring AOP 会自动为这些方法<strong>生成代理</strong>，并在它们执行时<strong>织入</strong>这段日志逻辑。</li></ol><p><strong>总结 AOP 的好处：</strong></p><ul><li><strong>代码复用</strong>：将通用功能集中在一个地方。</li><li><strong>业务纯净</strong>：业务模块只关注核心逻辑，更加清晰易读。</li><li><strong>灵活可插拔</strong>：通过配置即可添加或移除切面功能，无需修改业务代码。</li></ul><hr><h3 id="ioc-与-aop-的关系" tabindex="-1">IoC 与 AOP 的关系 <a class="header-anchor" href="#ioc-与-aop-的关系" aria-label="Permalink to “IoC 与 AOP 的关系”">​</a></h3><p>它们是 Spring 的两个不同维度的核心功能，相辅相成，共同实现了 Spring 的“解耦”哲学。</p><ul><li><strong>IoC 是基石</strong>：它管理了所有的对象（Bean），建立了对象之间纵向的、明面的依赖关系（如 <code>UserService</code> 依赖 <code>UserRepository</code>）。</li><li><strong>AOP 是增强</strong>：它解决了横跨多个对象的横向关注点问题（如为所有 <code>Service</code> 的方法添加日志）。<strong>AOP 的实现依赖于 IoC 容器管理的 Bean</strong>，因为它需要为这些 Bean 创建代理对象。</li></ul><p>简单来说：<strong>IoC 让对象之间的依赖关系反向，而 AOP 让那些遍布应用的横切代码从业务逻辑中分离出来</strong>。两者结合，使得应用程序更加模块化、灵活和易于维护。</p><h1 id="_2、springboot常用注解" tabindex="-1">2、Springboot常用注解 <a class="header-anchor" href="#_2、springboot常用注解" aria-label="Permalink to “2、Springboot常用注解”">​</a></h1><p>好的，Spring Boot 的常用注解非常多，但它们可以很有条理地进行分类。掌握这些注解是高效开发的关键。</p><h3 id="_1-启动与核心配置注解" tabindex="-1">1. 启动与核心配置注解 <a class="header-anchor" href="#_1-启动与核心配置注解" aria-label="Permalink to “1. 启动与核心配置注解”">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">注解</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong><code>@SpringBootApplication</code></strong></td><td style="text-align:left;"><strong>核心注解</strong>，标注主启动类。是 <code>@SpringBootConfiguration</code>, <code>@EnableAutoConfiguration</code>, <code>@ComponentScan</code> 三个注解的组合。</td></tr><tr><td style="text-align:left;"><code>@SpringBootConfiguration</code></td><td style="text-align:left;">表明这是一个 Spring Boot 的配置类。</td></tr><tr><td style="text-align:left;"><code>@EnableAutoConfiguration</code></td><td style="text-align:left;"><strong>开启自动配置</strong>，Spring Boot 的魔法所在，根据依赖自动配置应用。</td></tr><tr><td style="text-align:left;"><code>@ComponentScan</code></td><td style="text-align:left;">自动扫描并注册当前包及其子包下的组件（<code>@Component</code>, <code>@Service</code>, <code>@Controller</code> 等）为 Bean。</td></tr><tr><td style="text-align:left;"><code>@Configuration</code></td><td style="text-align:left;">标记一个类为<strong>配置类</strong>，相当于一个 XML 配置文件。</td></tr><tr><td style="text-align:left;"><code>@Bean</code></td><td style="text-align:left;">在配置类的方法上使用，将方法的返回值定义为一个 <strong>Spring Bean</strong>，交由 IoC 容器管理。</td></tr><tr><td style="text-align:left;"><code>@Value</code></td><td style="text-align:left;"><strong>属性注入</strong>，将配置文件中的值注入到类的字段或方法参数中。支持 SpEL 表达式。</td></tr><tr><td style="text-align:left;"><code>@ConfigurationProperties</code></td><td style="text-align:left;"><strong>批量属性绑定</strong>，将配置文件（如 <code>application.yml</code>）中的一组属性批量注入到一个 Bean 的对应字段中。</td></tr><tr><td style="text-align:left;"><code>@PropertySource</code></td><td style="text-align:left;">指定自定义的配置文件位置，加载额外的属性文件。</td></tr></tbody></table><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SpringBootApplication</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        SpringApplication.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyApplication.class, args);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Configuration</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AppConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Bean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MyService </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">myService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyServiceImpl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Component</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${app.name}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注入application.properties中的app.name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String appName;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${server.port:8080}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 带默认值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> port;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ConfigurationProperties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prefix</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;myapp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyAppProperties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String name;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String version;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // getters and setters</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="_2-web-相关注解-spring-mvc" tabindex="-1">2. Web 相关注解 (Spring MVC) <a class="header-anchor" href="#_2-web-相关注解-spring-mvc" aria-label="Permalink to “2. Web 相关注解 (Spring MVC)”">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">注解</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong><code>@RestController</code></strong></td><td style="text-align:left;"><strong>组合注解</strong>，等于 <code>@Controller</code> + <code>@ResponseBody</code>。表示这个 Controller 的所有方法返回的数据都直接写入 HTTP 响应体，通常用于编写 <strong>RESTful API</strong>。</td></tr><tr><td style="text-align:left;"><code>@Controller</code></td><td style="text-align:left;">标记一个类为 Web 控制器，处理 HTTP 请求。</td></tr><tr><td style="text-align:left;"><code>@RequestMapping</code></td><td style="text-align:left;"><strong>路由映射</strong>，将 HTTP 请求映射到 MVC 控制器的方法上。可指定路径、方法（GET/POST等）。</td></tr><tr><td style="text-align:left;"><code>@GetMapping</code>, <code>@PostMapping</code>, <code>@PutMapping</code>, <code>@DeleteMapping</code>, <code>@PatchMapping</code></td><td style="text-align:left;"><strong><code>@RequestMapping</code> 的快捷方式</strong>，分别用于简化不同 HTTP 方法的映射。</td></tr><tr><td style="text-align:left;"><code>@RequestParam</code></td><td style="text-align:left;">获取 <strong>URL 查询参数</strong> 或 <strong>表单数据</strong>。</td></tr><tr><td style="text-align:left;"><code>@PathVariable</code></td><td style="text-align:left;">获取 <strong>URL 路径模板</strong> 中的变量。</td></tr><tr><td style="text-align:left;"><code>@RequestBody</code></td><td style="text-align:left;">将 <strong>HTTP 请求体</strong>（通常是 JSON）解析并绑定到方法参数上。</td></tr><tr><td style="text-align:left;"><code>@ResponseBody</code></td><td style="text-align:left;">将方法返回的对象直接写入 HTTP 响应体（如返回 JSON/XML）。</td></tr><tr><td style="text-align:left;"><code>@RestControllerAdvice</code></td><td style="text-align:left;"><strong>全局异常处理</strong>，结合 <code>@ExceptionHandler</code> 用于处理整个应用的异常。</td></tr></tbody></table><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RestController</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RequestMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GetMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/{id}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> User </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PathVariable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Long </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RequestParam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">required</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">detail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 获取路径变量id和查询参数detail</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(id);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PostMapping</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> User </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RequestBody</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> User </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 解析JSON请求体</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">save</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ExceptionHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UserNotFoundException.class)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ResponseEntity&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UserNotFoundException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ResponseEntity.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(HttpStatus.NOT_FOUND).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ex.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="_3-数据访问相关注解-spring-data-jpa" tabindex="-1">3. 数据访问相关注解 (Spring Data JPA) <a class="header-anchor" href="#_3-数据访问相关注解-spring-data-jpa" aria-label="Permalink to “3. 数据访问相关注解 (Spring Data JPA)”">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">注解</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong><code>@Entity</code></strong></td><td style="text-align:left;">标记一个类为 <strong>JPA 实体</strong>，与数据库表映射。</td></tr><tr><td style="text-align:left;"><code>@Table</code></td><td style="text-align:left;">指定实体类映射的数据库表名。</td></tr><tr><td style="text-align:left;"><code>@Id</code></td><td style="text-align:left;">声明实体类的<strong>主键</strong>字段。</td></tr><tr><td style="text-align:left;"><code>@GeneratedValue</code></td><td style="text-align:left;">指定主键的<strong>生成策略</strong>（如自增、UUID等）。</td></tr><tr><td style="text-align:left;"><code>@Column</code></td><td style="text-align:left;">指定字段映射的数据库列名及其属性。</td></tr><tr><td style="text-align:left;"><code>@Repository</code></td><td style="text-align:left;">标记一个类为<strong>数据访问层（DAO）组件</strong>。</td></tr><tr><td style="text-align:left;"><code>@Transactional</code></td><td style="text-align:left;"><strong>声明事务</strong>，可以标注在类或方法上。</td></tr></tbody></table><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Entity</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GeneratedValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GenerationType.IDENTITY)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Long id;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Column</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;user_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nullable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String username;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... other fields, getters, setters</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Repository</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserRepository</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JpaRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Spring Data JPA 会自动实现该方法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    User </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findByUsername</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Service</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UserRepository userRepository;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Transactional</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 此方法受事务管理</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> User </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(User </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userRepository.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">save</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="_4-功能与增强注解" tabindex="-1">4. 功能与增强注解 <a class="header-anchor" href="#_4-功能与增强注解" aria-label="Permalink to “4. 功能与增强注解”">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">注解</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong><code>@Autowired</code></strong></td><td style="text-align:left;"><strong>自动依赖注入</strong>。Spring 会自动寻找合适的 Bean 并注入到字段、构造器或 setter 方法中。</td></tr><tr><td style="text-align:left;"><code>@Component</code></td><td style="text-align:left;"><strong>通用组件注解</strong>，标记一个类为 Spring 组件，会被组件扫描自动检测并注册为 Bean。</td></tr><tr><td style="text-align:left;"><code>@Service</code></td><td style="text-align:left;">标记一个类为<strong>业务服务层组件</strong>，是 <code>@Component</code> 的特化。</td></tr><tr><td style="text-align:left;"><code>@Repository</code></td><td style="text-align:left;">标记一个类为<strong>数据仓库组件</strong>，是 <code>@Component</code> 的特化，同时会将平台特定的持久化异常转换为 Spring 的统一异常。</td></tr><tr><td style="text-align:left;"><code>@Qualifier</code></td><td style="text-align:left;">当有多个相同类型的 Bean 时，用此注解指定要注入的具体 Bean 的名称。</td></tr><tr><td style="text-align:left;"><code>@Profile</code></td><td style="text-align:left;">指定某个 Bean 或配置只在特定的<strong>环境 Profile</strong>（如 <code>dev</code>, <code>test</code>, <code>prod</code>）下才被激活和注册。</td></tr><tr><td style="text-align:left;"><code>@Scheduled</code></td><td style="text-align:left;"><strong>定时任务</strong>，标注方法后，方法会按指定的 cron 表达式或固定延迟时间执行。</td></tr><tr><td style="text-align:left;"><code>@Async</code></td><td style="text-align:left;"><strong>异步方法</strong>，标注后该方法会在独立的线程中执行。</td></tr></tbody></table><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Service</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OtherService otherService;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 构造器注入（推荐）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OtherService </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">otherService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.otherService </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> otherService;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Scheduled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cron</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;0 0/5 * * * ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 每5分钟执行一次</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doScheduledTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Async</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doAsyncTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 这个方法会异步执行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>掌握这些注解，你就已经能够应对绝大多数 Spring Boot 应用的开发场景了。</p>`,57)])])}const o=i(l,[["render",e]]);export{E as __pageData,o as default};
